!function($){"use strict";$(function(){function o(){k=n("wooqv-close-on-added",0,!0),I=n("wooqv-mobile-slider-width",350,!0),T=n("wooqv-mobile-slider-height",350,!0),L=n("wooqv-desktop-slider-width",400,!0),j=n("wooqv-desktop-slider-height",400,!0),V=n("wooqv-box-shadow-blur",30),W=n("wooqv-box-shadow-spread",0),Y=n("wooqv-box-shadow-color","rgba(0,0,0,0.3)"),y.css({"box-shadow":"0 0 "+V+"px "+W+"px "+Y})}function t(){to=$(window).width(),eo=$(window).height(),oo=to<=g.L,X=oo?parseInt(I):parseInt(L),A=oo?parseInt(T):parseInt(j)}function e(){if(C){for(var t,e=$(document.body).data("events").click,i=0;i<e.length;i++)if("preview"===e[i].namespace){t=e[i].handler;break}t&&($(document.body).off("click.preview","a"),$(document.body).on("click.preview","a",function(o){$(o.target).hasClass("wooqv-trigger")||$(o.target).hasClass("wooqv-trigger-icon")||t(o)})),y.attrchange({trackValues:!0,callback:function(t){-1!==t.attributeName.search("wooqv-")&&(o(),setTimeout(function(){d(),d()},1))}})}if($("body").on("click",function(o){if($(o.target).is(".wooqv-trigger")||$(o.target).is(".wooqv-trigger-icon")){o.preventDefault();var t=$(o.target).closest(".product").find("img.attachment-shop_catalog");if(0===t.length&&(t=$(o.target).closest(".product").find(".woocommerce-LoopProduct-link > img"),0===t.length&&(t=$(o.target).closest(".product").find(".woocommerce-LoopProduct-link img").first())),0===t.length)return!1;var e=t.attr("src");$("html").addClass("wooqv-active"),u(t,J,B,"open")}else($(o.target).is(".wooqv-close-icon")||$(o.target).is("html.wooqv-active")||$(o.target).is(".wooqv-overlay")&&G)&&f(J,B)}),$(document).keyup(function(o){"27"===o.which&&f(J,B)}),$(window).on("resize",function(){window.requestAnimationFrame(d),window.requestAnimationFrame(d)}),k){var a=function(){U&&f(J,B)};$(document.body).on("woofc_added_to_cart",a),$(document.body).on("wooqv_added_to_cart",a)}}function i(o){if(x&&clearInterval(x),o.data("loading"))return!1;o.removeClass("added");var t=o.closest("form"),e=t.serializeJSON();e["add-to-cart"]=t.find('[name="add-to-cart"]').val(),o.data("loading",!0),o.addClass("loading"),a(e,function(){o.removeClass("loading").addClass("added"),o.removeData("loading"),x=setTimeout(function(){o.removeClass("added")},3e3),setTimeout(function(){$(document.body).trigger("wc_fragment_refresh"),$(document.body).trigger("wooqv_added_to_cart")},200)})}function a(o,t){$("html").addClass("wooqv-loading");var e="single-add",i={action:"wooqv_update_cart",type:"single-add"};i=$.extend(i,o),$.ajax({url:location.href,data:i,type:"post",success:function(){$("html").removeClass("wooqv-loading"),void 0!==t&&t()}})}function s(o){var t=o.closest("form"),e=0;if(t.find(".required-product-addon").each(function(){var o=$(this),t=$(this).find("input");t.length>1?(o.removeClass("wooqv-error"),t.is(":checked")||(e++,o.addClass("wooqv-error"))):(o.removeClass("wooqv-error"),""===t.val()&&(e++,o.addClass("wooqv-error")))}),e>0){var i=t.find(".required-product-addon.wooqv-error").first();$("html,body").animate({scrollTop:i.offset().top-100},500)}return 0===e}function n(o,t,e){var i;return e=e||!1,i=y.attr(o)?y.attr(o):t,e&&(i=parseInt(i)),i}function r(){oo?($(".wooqv-slider li img").css("width",""),$(".wooqv-item-info").css("height",""),$(".woo-quick-view, .wooqv-slider-wrapper").css("width",I+"px"),$(".wooqv-slider-wrapper").css("height",T+"px")):($(".woo-quick-view").css("width",""),$(".wooqv-slider-wrapper, .wooqv-slider li img").css("width",L+"px"),$(".wooqv-slider-wrapper, .wooqv-item-info").css("height",j+"px"))}function d(){t(),C&&r(),to<=X?(J=to,B=J):to>X&&(J=X,B=z),eo<=A?(M=eo,E=M):eo>O&&(M=A,E=O),U&&to<=I&&(!1===K||null===K)?l():to>I&&(!0===K||null===K)&&c(),U&&eo<=y.height()&&(!1===R||null===R)?v():eo>y.height()&&(!0===R||null===R)&&w();var o=(to-y.width())/2,e=(eo-y.height())/2,i=.8*to<B?.8*to:B,a="",s=parseInt(z-L);oo&&(o=(to-y.width())/2,e=(eo-y.height())/2,i=I,a=.8*eo<E?.8*eo:E,s="100%"),y.css({top:e,left:o,width:i}),y.find(".wooqv-item-info").css("width",s)}function l(){$("html").addClass("wooqv-width-overflow"),K=!0}function c(){$("html").removeClass("wooqv-width-overflow"),K=!1}function v(){$("html").addClass("wooqv-height-overflow"),R=!0}function w(){$("html").removeClass("wooqv-height-overflow"),R=!1}function f(o,t){var e=$(".wooqv-close-icon"),i=e.siblings(".wooqv-slider-wrapper").find(".selected img").attr("src"),a=$(".empty-box").find("img");!y.hasClass("velocity-animating")&&y.hasClass("wooqv-add-content")?(a.attr("src",i),u(a,o,t,"close")):h(a,o,t)}function u(o,e,i,a){t(),o=o.length?o:$(".empty-box");var s=o.closest(".product"),n=s.find(".wooqv-trigger").data("id"),r=o.offset().top-$(window).scrollTop(),l=o.offset().left,c=o.width(),v=o.height(),w=e*v/c,f=(to-e)/2,u=(eo-w)/2,h=.8*to<i?.8*to:i,m=w,q=(to-h)/2,g=u,C=parseInt(z-L);oo&&(w=e*v/c,f=(to-J)/2,u=(eo-w)/2,h=e,m=.8*eo<E?.8*eo:E,q=f,g=(eo-m)/2,C="100%"),"open"===a?p(n,function(){s.addClass("empty-box"),y.css({top:r,left:l,width:c}).velocity({top:u+"px",left:f+"px",width:e+"px",scaleX:"1",scaleY:"1",opacity:1},800,[400,20],function(){eo<=E&&(g=0),oo&&(g=(eo-(y.find(".wooqv-item-info").outerHeight(!0)+y.find(".wooqv-slider-wrapper").outerHeight(!0)))/2),y.addClass("wooqv-animate-width").velocity({top:g+"px",left:q+"px",width:h+"px"},300,"ease",function(){y.find(".wooqv-item-info").css("width",C),y.addClass("wooqv-add-content"),y.addClass("wooqv-preview-gallery"),setTimeout(function(){y.removeClass("wooqv-preview-gallery")},2e3),eo<=E&&d(),$("html").removeClass("wooqv-loading")})}).addClass("wooqv-is-visible"),U=!0}):y.removeClass("wooqv-add-content").velocity({top:u+"px",left:f+"px",width:e+"px"},300,"ease",function(){$("html").removeClass("wooqv-active"),y.removeClass("wooqv-animate-width").velocity({top:r,left:l,width:c,scaleX:"0.5",scaleY:"0.5",opacity:0},500,"ease",function(){U=!1,y.removeClass("wooqv-is-visible"),s.removeClass("empty-box"),d()})})}function h(o,t,e){o=o.length?o:$(".empty-box");var i=o.closest(".product"),a=o.offset().top-$(window).scrollTop(),s=o.offset().left,n=o.width();$("html").removeClass("wooqv-active"),i.removeClass("empty-box"),y.velocity("stop").removeClass("wooqv-add-content wooqv-animate-width wooqv-is-visible").css({top:a,left:s,width:n}),U=!1,d()}function p(o,t){if(o===Z)return void 0!==t&&t(),!1;$("html").addClass("wooqv-loading");var e={action:"wooqv_quick_view",id:o};$.ajax({url:WOOQV.ajaxurl,data:e,type:"post",success:function(e){y.find(".wooqv-product").replaceWith($(e.product_item)),m(o,e,t)}})}function m(o,t,e){Z=o,C&&(Z=null,r()),q(),void 0!==e&&e(t)}function q(){"undefined"!=typeof wc_add_to_cart_variation_params&&y.find(".variations_form").each(function(){$(this).wc_variation_form()})}var g={S:400,M:768,L:1124,XL:1170},C=void 0!==wp.customize,y=$(".woo-quick-view"),b=$("html").hasClass(".wooqv-touchevents"),x,_,k=0,I=350,T=350,L=400,j=400,z=900,O=755,X,A,D,F=0,H=1,N=6,P=0,Q="",S=!1,V="",W="",Y="",J=X,M=A,B=z,E=O,G=!0,K=null,R=null,U=!1,Z=null,oo=!1,to,eo;$(document).ready(function(){o(),t(),e(),d()})})}(jQuery);